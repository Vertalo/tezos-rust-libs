# THIS FILE IS AUTOMATICALLY GENERATED BY CARGO
#
# When uploading crates to the registry Cargo will automatically
# "normalize" Cargo.toml files for maximal compatibility
# with all versions of Cargo and also rewrite `path` dependencies
# to registry (e.g., crates.io) dependencies.
#
# If you are reading this file be aware that the original Cargo.toml
# will likely look very different (and much more reasonable).
# See Cargo.toml.orig for the original contents.

[package]
edition = "2021"
rust-version = "1.59.0"
name = "corosensei"
version = "0.1.2"
authors = ["Amanieu d'Antras <amanieu@gmail.com>"]
exclude = [
    ".github",
    "ci",
]
description = "A fast and safe implementation of stackful coroutines"
readme = "README.md"
keywords = [
    "coroutine",
    "stack",
    "fiber",
    "generator",
]
categories = [
    "data-structures",
    "no-std",
    "concurrency",
]
license = "MIT OR Apache-2.0"
repository = "https://github.com/Amanieu/corosensei"
resolver = "2"

[package.metadata.docs.rs]
targets = [
    "x86_64-unknown-linux-gnu",
    "i686-unknown-linux-gnu",
    "aarch64-unknown-linux-gnu",
    "armv7-unknown-linux-gnueabihf",
    "riscv64gc-unknown-linux-gnu",
    "x86_64-apple-darwin",
    "aarch64-apple-darwin",
    "x86_64-pc-windows-msvc",
    "i686-pc-windows-msvc",
]

[profile.bench]
debug = true

[profile.release]
debug = true

[[bench]]
name = "coroutine"
harness = false

[dependencies.cfg-if]
version = "1.0.0"

[dependencies.scopeguard]
version = "1.1.0"
default-features = false

[dev-dependencies.backtrace]
version = "0.3.64"

[dev-dependencies.criterion]
version = "0.3.5"

[build-dependencies.autocfg]
version = "1.1.0"

[features]
asm-unwind = ["unwind"]
default = [
    "default-stack",
    "unwind",
]
default-stack = [
    "libc",
    "windows-sys",
]
unwind = []

[target."cfg(any(target_arch = \"x86\", target_arch = \"x86_64\"))".dev-dependencies.criterion-cycles-per-byte]
version = "0.1.2"

[target."cfg(unix)".dependencies.libc]
version = "0.2.119"
optional = true

[target."cfg(windows)".dependencies.windows-sys]
version = "0.33.0"
features = [
    "Win32_Foundation",
    "Win32_System_Diagnostics_Debug",
    "Win32_System_Kernel",
    "Win32_System_Memory",
    "Win32_System_Threading",
    "Win32_System_SystemInformation",
]
optional = true
